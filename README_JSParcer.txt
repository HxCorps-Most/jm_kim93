삽질의 경과와 그 결말을 기록하기 위해 이 문서를 작성합니다.

야심차게 JavaScript로 만들겠다고 작정한 것이 지난 화요일,
4일이 지나 일요일이 되고나서야 겨우 검색을 해보았고
Node.js로 만들면 되겠다고 생각하여 Node를 깔아봅니다.

그날 처음으로 Node.js라는 물건을 처음 써본 저는 알음알음 검색을 해본 바
request와 cheerio를 쓰면 간단히 페이지를 크롤링하고, 그 안에서 선택자를 살 쓰면
원하는 내용을 파싱해올 수 있겠다는 생각으로 작업에 착수합니다.

그런데 왠걸, 아무리 코드를 실행해보아도 콘솔에는 아무 것도 뜨지를 않습니다.
느낌이 이상하여 (수십분 삽질 후에) request로 받아온 페이지를 열어봅니다.
이런... 수상한 트래픽이라면서 네이버가 자체적으로 차단을 해버립니다.
네이버 메인을 크롤링해도 잘 되고, 다른 블로그는 말할 것도 없는데, 검색 결과가 안 됩니다.

어쩔까 하다가, 문득 서버 자체에서 페이지를 동적으로 로드해서 그 결과를 볼 수 있으면 될텐데 라는 생각에 미치게 됩니다.
그런 모듈이 있을까? 있습니다.
브라우저처럼 화면을 출력하지는 않지만 여타 기능은 모두 브라우저와 동일하게 동작하는 Headless browser를 서버 상에서 돌리고, 그것을 통해 로드한 웹페이지에서 파싱을 시도하는 겁니다.
어쨌든 브라우저가 동작하는 것이면 이게 사람인지 서버인지 알 길이 없겠지?

JavaScript 언어를 기반으로 동작하는 PhantomJS라는 모듈을 Homebrew를 통해 설치하고, 뚝딱뚝딱 만들어봅니다.
jQuery 라이브러리를 로드하여 안에서 사용할 수도 있습니다.

잘 됩니다.
개꿀~

그렇게 얻어낸 교훈 :
  1. 할 줄 모르는거 하겠다고 냅다 달려들면 피X싼다...
  2. 내가 만들려는 건 이미 다 만들어져 있으니 열심히 검색해보자
  3. 영어 개발자 문서를 두려워 말자
